"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.on = on;
exports.message = message;
exports.use = use;
/**
 * subscribe to an event
 * @param name event to subscribe to
 * @param cb callback to invoke
 */
function on(name, cb) {
    this.router.on(name, cb);
    return this;
}
/**
 * subscribe to a message event for a specific pattern
 * @param pattern pattern to match against message text
 * @param cb callback to invoke
 */
function message(pattern, cb) {
    this.router.register({
        type: 'user',
        select: (activity) => {
            if (activity.type !== 'message') {
                return false;
            }
            return new RegExp(pattern).test(activity.text);
        },
        callback: cb,
    });
    return this;
}
/**
 * register a middleware
 * @param cb callback to invoke
 */
function use(cb) {
    this.router.use(cb);
    return this;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLnJvdXRpbmcuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvYXBwLnJvdXRpbmcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFpQkEsZ0JBT0M7QUFPRCwwQkFrQkM7QUFNRCxrQkFNQztBQWpERDs7OztHQUlHO0FBQ0gsU0FBZ0IsRUFBRSxDQUVoQixJQUFVLEVBQ1YsRUFBdUU7SUFFdkUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ3pCLE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQztBQUVEOzs7O0dBSUc7QUFDSCxTQUFnQixPQUFPLENBRXJCLE9BQXdCLEVBQ3hCLEVBQTRFO0lBRTVFLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFZO1FBQzlCLElBQUksRUFBRSxNQUFNO1FBQ1osTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFLEVBQUU7WUFDbkIsSUFBSSxRQUFRLENBQUMsSUFBSSxLQUFLLFNBQVMsRUFBRSxDQUFDO2dCQUNoQyxPQUFPLEtBQUssQ0FBQztZQUNmLENBQUM7WUFFRCxPQUFPLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDakQsQ0FBQztRQUNELFFBQVEsRUFBRSxFQUFFO0tBQ2IsQ0FBQyxDQUFDO0lBRUgsT0FBTyxJQUFJLENBQUM7QUFDZCxDQUFDO0FBRUQ7OztHQUdHO0FBQ0gsU0FBZ0IsR0FBRyxDQUVqQixFQUFxRztJQUVyRyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNwQixPQUFPLElBQUksQ0FBQztBQUNkLENBQUMifQ==